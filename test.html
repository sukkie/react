<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
  </head>
  <body>
    <script>
      // concat, filter, map, slice, spread연산자

      // 1. spread연산자로 깊은 복사
      const a = [1, 2, 3];
      const b = [...a];
      console.log(a);
      console.log(b);
      console.log('1. ------------------------------');

      // 2. concat으로 깊은 복사 - 추가할때 사용
      const a2 = [1, 2, 3];
      const b2 = a2.concat(4);
      console.log(a2);
      console.log(b2);
      console.log('2. ------------------------------');

      // 3. filter로 깊은 복사 - 삭제할때 사용
      const a3 = [1, 2, 3];
      // boolean을 리턴받음
      const b3 = a3.filter((n) => n != 1);
      console.log(a3);
      console.log(b3);
      console.log('3. ------------------------------');

      // 4. slice로 깊은 복사
      const a4 = [1, 2, 3];
      const b4 = a4.slice(0, 2);
      console.log(a4);
      console.log(b4);
      console.log('4. ------------------------------');

      // 5. map
      const a5 = [1, 2, 3];
      const b5 = a5.map((n) => n);
      console.log(a5);
      console.log(b5);
      console.log('5. ------------------------------');

      // 6. forEach 단순 출력
      const a6 = [1, 2, 3];
      a6.forEach((n) => console.log(n));
      console.log(a6);
      console.log('6. ------------------------------');

      // 7. 객체제어
      const a7 = { id: 1, name: 'aaa' };
      const b7 = { ...a7, name: 'bbb' };
      console.log(a7);
      console.log(b7);
      console.log('7. ------------------------------');

      // 수정
      const users = [
        { id: 1, name: 'aaa', phone: '1111' },
        { id: 2, name: 'bbb', phone: '2222' },
        { id: 3, name: 'ccc', phone: '3333' },
      ];
      const updateUserDto = { id: 2, name: 'zzz' };

      const result = users.map((o) => {
        if (o.id === updateUserDto.id) {
          // 최적화에 좋지 못함
          // o.name = updateUserDto.name;
          return { ...o, ...updateUserDto };
        }
        return o;
      });
      console.log(result);
    </script>
  </body>
</html>
